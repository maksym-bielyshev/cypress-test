name: Angular Update Workflow

on:
  workflow_dispatch:

jobs:
  update-angular:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v4

    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '16.x' # Recommended to match the Node.js version with Angular compatibility
        cache: 'npm'

    - name: Install Current Dependencies
      run: npm install

    - name: Update Angular CLI to v9
      run: npx ng update @angular/cli@9 --force

    - name: Update Angular CLI to v10
      run: npx ng update @angular/cli@10 --force
    - name: Update Angular CLI to v11
      run: npx ng update @angular/cli@11 --force

    - name: Update Angular CLI to Latest
      run: npx ng update @angular/cli@latest --force

    - name: Build Project
      run: npm run build

    - name: Run Tests
      run: npm test
